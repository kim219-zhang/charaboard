{\rtf1\ansi\ansicpg936\cocoartf2867
\cocoatextscaling0\cocoaplatform0{\fonttbl\f0\fswiss\fcharset0 Helvetica;}
{\colortbl;\red255\green255\blue255;}
{\*\expandedcolortbl;;}
\paperw11900\paperh16840\margl1440\margr1440\vieww12720\viewh7800\viewkind0
\pard\tx720\tx1440\tx2160\tx2880\tx3600\tx4320\tx5040\tx5760\tx6480\tx7200\tx7920\tx8640\pardirnatural\partightenfactor0

\f0\fs24 \cf0 import streamlit as st\
import google.generativeai as genai\
import os\
\
# 1. \uc0\u39029 \u38754 \u35774 \u32622 \u65288 \u25163 \u26426 \u31471 \u26174 \u31034 \u30340 \u26631 \u39064 \u21644 \u22270 \u26631 \u65289 \
st.set_page_config(page_title="\uc0\u25105 \u30340  AI \u21161 \u25163 ", page_icon="\u55358 \u56598 ")\
st.title("\uc0\u55357 \u56960  \u25105 \u30340  Gemini AI \u24212 \u29992 ")\
\
# 2. \uc0\u20174 \u20113 \u31471 \u35774 \u32622 \u20013 \u35835 \u21462  API Key (\u23433 \u20840 \u20570 \u27861 )\
# \uc0\u37096 \u32626 \u21040  Streamlit Cloud \u21518 \u65292 \u22312  Secrets \u37324 \u37197 \u32622 \u36825 \u20010  Key\
api_key = st.secrets["GEMINI_API_KEY"]\
\
if not api_key:\
    st.error("\uc0\u35831 \u20808 \u22312  Streamlit Secrets \u20013 \u37197 \u32622  API Key\u65281 ")\
else:\
    genai.configure(api_key=api_key)\
    model = genai.GenerativeModel('gemini-1.5-flash')\
\
    # 3. \uc0\u31616 \u21333 \u30340 \u32842 \u22825 \u30028 \u38754 \
    if "messages" not in st.session_state:\
        st.session_state.messages = []\
\
    for message in st.session_state.messages:\
        with st.chat_message(message["role"]):\
            st.markdown(message["content"])\
\
    if prompt := st.chat_input("\uc0\u24819 \u38382 \u28857 \u20160 \u20040 \u65311 "):\
        st.session_state.messages.append(\{"role": "user", "content": prompt\})\
        with st.chat_message("user"):\
            st.markdown(prompt)\
\
        with st.chat_message("assistant"):\
            response = model.generate_content(prompt)\
            st.markdown(response.text)\
            st.session_state.messages.append(\{"role": "assistant", "content": response.text\})}